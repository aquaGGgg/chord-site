{"ast":null,"code":"var _jsxFileName = \"E:\\\\Project\\\\front\\\\chord-site\\\\src\\\\components\\\\SongDetails.jsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport songsService from '../services/songsService';\nimport { AuthContext } from '../context/AuthContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SongDetails = ({\n  songId\n}) => {\n  _s();\n  const {\n    user\n  } = useContext(AuthContext);\n  const [song, setSong] = useState(null);\n  const [isFavorite, setIsFavorite] = useState(false);\n  useEffect(() => {\n    const fetchSongDetails = async () => {\n      if (songId) {\n        try {\n          const data = await songsService.getSong(songId);\n          setSong(data);\n          if (user) {\n            const favorites = await songsService.getFavorites();\n            setIsFavorite(favorites.some(fav => fav.id === songId));\n          }\n        } catch (error) {\n          console.error(\"Ошибка при загрузке песни или избранного\", error);\n        }\n      } else {\n        setSong(null);\n      }\n    };\n    fetchSongDetails();\n  }, [songId, user]);\n  const toggleFavorite = async () => {\n    try {\n      if (!user) return;\n      if (isFavorite) {\n        await songsService.removeFavorite(songId);\n        setIsFavorite(false);\n      } else {\n        await songsService.addFavorite(songId);\n        setIsFavorite(true);\n      }\n    } catch (error) {\n      console.error(\"Ошибка при переключении избранного\", error);\n    }\n  };\n  if (!song) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: detailsPlaceholderStyle,\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0435\\u0441\\u043D\\u044E, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0443\\u0432\\u0438\\u0434\\u0435\\u0442\\u044C \\u0442\\u0435\\u043A\\u0441\\u0442 \\u0441 \\u0430\\u043A\\u043A\\u043E\\u0440\\u0434\\u0430\\u043C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: detailsContentWrapper,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: detailsContentStyle,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: headerStyle,\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          style: titleStyle,\n          children: song.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), user && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleFavorite,\n          style: {\n            ...likeButtonStyle,\n            backgroundColor: isFavorite ? '#d9534f' : '#28a745'\n          },\n          children: isFavorite ? 'Убрать из избранного' : 'В избранное'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        style: authorStyle,\n        children: [\"\\u0418\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C: \", song.author]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n        style: lyricsStyle,\n        children: song.lyricsWithChords\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this);\n};\n\n/** Стили */\n_s(SongDetails, \"Zbcm2Zxt2ZmEhN1GH+PpK4cGwFw=\");\n_c = SongDetails;\nconst detailsContentWrapper = {\n  display: 'flex',\n  justifyContent: 'center',\n  width: '100%'\n};\nconst detailsContentStyle = {\n  width: '100%',\n  maxWidth: '800px',\n  backgroundColor: '#3d4044',\n  padding: '1.5rem',\n  borderRadius: '8px',\n  boxShadow: '0 0 10px rgba(0,0,0,0.5)',\n  fontSize: '1.2rem',\n  lineHeight: '1.6'\n};\nconst detailsPlaceholderStyle = {\n  display: 'flex',\n  justifyContent: 'center',\n  alignItems: 'center',\n  width: '100%',\n  color: '#ccc'\n};\nconst headerStyle = {\n  display: 'flex',\n  justifyContent: 'space-between',\n  alignItems: 'center'\n};\nconst titleStyle = {\n  marginTop: 0,\n  fontSize: '2rem',\n  fontWeight: 'bold'\n};\nconst authorStyle = {\n  color: '#ccc',\n  marginBottom: '1rem',\n  fontSize: '1.3rem'\n};\nconst lyricsStyle = {\n  whiteSpace: 'pre-wrap',\n  fontFamily: 'monospace',\n  fontSize: '1.2rem',\n  marginTop: '1rem'\n};\nconst likeButtonStyle = {\n  padding: '0.5rem 1rem',\n  fontSize: '1rem',\n  border: 'none',\n  borderRadius: '6px',\n  color: '#fff',\n  cursor: 'pointer'\n};\nexport default SongDetails;\nvar _c;\n$RefreshReg$(_c, \"SongDetails\");","map":{"version":3,"names":["React","useEffect","useState","useContext","songsService","AuthContext","jsxDEV","_jsxDEV","SongDetails","songId","_s","user","song","setSong","isFavorite","setIsFavorite","fetchSongDetails","data","getSong","favorites","getFavorites","some","fav","id","error","console","toggleFavorite","removeFavorite","addFavorite","style","detailsPlaceholderStyle","children","fileName","_jsxFileName","lineNumber","columnNumber","detailsContentWrapper","detailsContentStyle","headerStyle","titleStyle","title","onClick","likeButtonStyle","backgroundColor","authorStyle","author","lyricsStyle","lyricsWithChords","_c","display","justifyContent","width","maxWidth","padding","borderRadius","boxShadow","fontSize","lineHeight","alignItems","color","marginTop","fontWeight","marginBottom","whiteSpace","fontFamily","border","cursor","$RefreshReg$"],"sources":["E:/Project/front/chord-site/src/components/SongDetails.jsx"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport songsService from '../services/songsService';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst SongDetails = ({ songId }) => {\r\n  const { user } = useContext(AuthContext);\r\n  const [song, setSong] = useState(null);\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const fetchSongDetails = async () => {\r\n      if (songId) {\r\n        try {\r\n          const data = await songsService.getSong(songId);\r\n          setSong(data);\r\n\r\n          if (user) {\r\n            const favorites = await songsService.getFavorites();\r\n            setIsFavorite(favorites.some(fav => fav.id === songId));\r\n          }\r\n        } catch (error) {\r\n          console.error(\"Ошибка при загрузке песни или избранного\", error);\r\n        }\r\n      } else {\r\n        setSong(null);\r\n      }\r\n    };\r\n\r\n    fetchSongDetails();\r\n  }, [songId, user]);\r\n\r\n  const toggleFavorite = async () => {\r\n    try {\r\n      if (!user) return;\r\n\r\n      if (isFavorite) {\r\n        await songsService.removeFavorite(songId);\r\n        setIsFavorite(false);\r\n      } else {\r\n        await songsService.addFavorite(songId);\r\n        setIsFavorite(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"Ошибка при переключении избранного\", error);\r\n    }\r\n  };\r\n\r\n  if (!song) {\r\n    return (\r\n      <div style={detailsPlaceholderStyle}>\r\n        <p>Выберите песню, чтобы увидеть текст с аккордами</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={detailsContentWrapper}>\r\n      <div style={detailsContentStyle}>\r\n        <div style={headerStyle}>\r\n          <h2 style={titleStyle}>{song.title}</h2>\r\n          {user && (\r\n            <button\r\n              onClick={toggleFavorite}\r\n              style={{\r\n                ...likeButtonStyle,\r\n                backgroundColor: isFavorite ? '#d9534f' : '#28a745',\r\n              }}\r\n            >\r\n              {isFavorite ? 'Убрать из избранного' : 'В избранное'}\r\n            </button>\r\n          )}\r\n        </div>\r\n        <h4 style={authorStyle}>Исполнитель: {song.author}</h4>\r\n        <pre style={lyricsStyle}>{song.lyricsWithChords}</pre>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/** Стили */\r\nconst detailsContentWrapper = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  width: '100%',\r\n};\r\n\r\nconst detailsContentStyle = {\r\n  width: '100%',\r\n  maxWidth: '800px',\r\n  backgroundColor: '#3d4044',\r\n  padding: '1.5rem',\r\n  borderRadius: '8px',\r\n  boxShadow: '0 0 10px rgba(0,0,0,0.5)',\r\n  fontSize: '1.2rem',\r\n  lineHeight: '1.6',\r\n};\r\n\r\nconst detailsPlaceholderStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  width: '100%',\r\n  color: '#ccc',\r\n};\r\n\r\nconst headerStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n};\r\n\r\nconst titleStyle = {\r\n  marginTop: 0,\r\n  fontSize: '2rem',\r\n  fontWeight: 'bold',\r\n};\r\n\r\nconst authorStyle = {\r\n  color: '#ccc',\r\n  marginBottom: '1rem',\r\n  fontSize: '1.3rem',\r\n};\r\n\r\nconst lyricsStyle = {\r\n  whiteSpace: 'pre-wrap',\r\n  fontFamily: 'monospace',\r\n  fontSize: '1.2rem',\r\n  marginTop: '1rem',\r\n};\r\n\r\nconst likeButtonStyle = {\r\n  padding: '0.5rem 1rem',\r\n  fontSize: '1rem',\r\n  border: 'none',\r\n  borderRadius: '6px',\r\n  color: '#fff',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport default SongDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}