{"ast":null,"code":"// src/components/SongDetails.jsx\nimport React,{useEffect,useState,useContext}from'react';import songsService from'../services/songsService';import{AuthContext}from'../context/AuthContext';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CHROMATIC_SHARP=['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];const CHROMATIC_FLAT=['C','Db','D','Eb','E','F','Gb','G','Ab','A','Bb','B'];const SongDetails=_ref=>{let{songId}=_ref;const{user}=useContext(AuthContext);const[song,setSong]=useState(null);const[isFavorite,setIsFavorite]=useState(false);const[transposeStep,setTransposeStep]=useState(0);const[displayedLyrics,setDisplayedLyrics]=useState('');useEffect(()=>{const fetchSongDetails=async()=>{if(!songId){setSong(null);setDisplayedLyrics('');setTransposeStep(0);return;}try{const data=await songsService.getSong(songId);setSong(data);setDisplayedLyrics(data.lyricsWithChords);setTransposeStep(0);if(user){const favorites=await songsService.getFavorites();setIsFavorite(favorites.some(fav=>fav.id===songId));}}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–µ—Å–Ω–∏ –∏–ª–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ\",error);}};fetchSongDetails();},[songId,user]);const toggleFavorite=async()=>{if(!user)return;try{if(isFavorite){await songsService.removeFavorite(songId);setIsFavorite(false);}else{await songsService.addFavorite(songId);setIsFavorite(true);}}catch(error){console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ\",error);}};const transposeChord=(chord,step)=>{if(!chord||step===0)return chord;const match=chord.match(/^([A-G])([#b]?)(.*)$/);if(!match)return chord;let[,root,accidental,suffix]=match;let useFlats=false;let noteName=root;if(accidental==='#')noteName+='#';else if(accidental==='b'){noteName+='b';useFlats=true;}let chromatic=useFlats?CHROMATIC_FLAT:CHROMATIC_SHARP;if(!chromatic.includes(noteName)){chromatic=CHROMATIC_SHARP.includes(noteName)?CHROMATIC_SHARP:CHROMATIC_FLAT;}const idx=chromatic.findIndex(n=>n===noteName);if(idx<0)return chord;let newIndex=(idx+step)%12;if(newIndex<0)newIndex+=12;return chromatic[newIndex]+suffix;};const transposeLyrics=(fullText,step)=>{return fullText.split('\\n').map(line=>{const tokens=line.split(/(\\s+)/);return tokens.map(tok=>/^\\s*$/.test(tok)?tok:transposeChord(tok,step)).join('');}).join('\\n');};const handleTransposeUp=()=>{if(!song)return;const newStep=(transposeStep+1)%12;setTransposeStep(newStep);setDisplayedLyrics(transposeLyrics(song.lyricsWithChords,newStep));};const handleTransposeDown=()=>{if(!song)return;const newStep=(transposeStep+11)%12;setTransposeStep(newStep);setDisplayedLyrics(transposeLyrics(song.lyricsWithChords,newStep));};const handleReset=()=>{if(!song)return;setTransposeStep(0);setDisplayedLyrics(song.lyricsWithChords);};if(!song){return/*#__PURE__*/_jsx(\"div\",{style:detailsPlaceholderStyle,children:/*#__PURE__*/_jsx(\"p\",{children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043F\\u0435\\u0441\\u043D\\u044E, \\u0447\\u0442\\u043E\\u0431\\u044B \\u0443\\u0432\\u0438\\u0434\\u0435\\u0442\\u044C \\u0442\\u0435\\u043A\\u0441\\u0442 \\u0441 \\u0430\\u043A\\u043A\\u043E\\u0440\\u0434\\u0430\\u043C\\u0438\"})});}return/*#__PURE__*/_jsx(\"div\",{style:detailsContentWrapper,children:/*#__PURE__*/_jsxs(\"div\",{style:detailsContentStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:headerStyle,children:[/*#__PURE__*/_jsx(\"h2\",{style:titleStyle,children:song.title}),user&&/*#__PURE__*/_jsx(\"button\",{onClick:toggleFavorite,style:{...likeButtonStyle,backgroundColor:isFavorite?'#d9534f':'#28a745'},children:isFavorite?'–£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ':'–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'})]}),/*#__PURE__*/_jsxs(\"h4\",{style:authorStyle,children:[\"\\u0418\\u0441\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C: \",song.author]}),/*#__PURE__*/_jsxs(\"div\",{style:mainContainerStyle,children:[/*#__PURE__*/_jsx(\"pre\",{style:lyricsStyle,children:displayedLyrics}),/*#__PURE__*/_jsxs(\"div\",{style:transposePanelStyle,children:[/*#__PURE__*/_jsxs(\"div\",{style:buttonsWrapperStyle,children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleTransposeDown,style:transposeButtonSquareStyle,children:\"\\u2212\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleTransposeUp,style:transposeButtonSquareStyle,children:\"+\"})]}),/*#__PURE__*/_jsx(\"button\",{onClick:handleReset,style:resetLinkStyle,children:\"\\u0421\\u0431\\u0440\\u043E\\u0441\\u0438\\u0442\\u044C\"})]})]})]})});};/** –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –≤ —Å—Ç–∏–ª–µ —Å–∞–π—Ç–∞ **/const detailsContentWrapper={display:'flex',justifyContent:'center',width:'100%'};const detailsContentStyle={width:'100%',maxWidth:'900px',backgroundColor:'#3d4044',padding:'1.5rem',borderRadius:'8px',boxShadow:'0 0 10px rgba(0,0,0,0.5)',fontSize:'1.2rem',lineHeight:'1.6',color:'#fff'};const detailsPlaceholderStyle={display:'flex',justifyContent:'center',alignItems:'center',width:'100%',color:'#ccc',fontSize:'1.2rem'};const headerStyle={display:'flex',justifyContent:'space-between',alignItems:'center'};const titleStyle={margin:0,fontSize:'2rem',fontWeight:'bold'};const authorStyle={color:'#ccc',marginTop:'0.5rem',marginBottom:'1rem',fontSize:'1.3rem'};const mainContainerStyle={display:'flex',width:'100%'};const lyricsStyle={flexGrow:1,whiteSpace:'pre-wrap',fontFamily:'monospace',fontSize:'1.1rem',margin:0,paddingRight:'1rem',overflowX:'auto'};/** üîµ –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è **/const transposePanelStyle={display:'flex',flexDirection:'column',alignItems:'center',justifyContent:'center',width:'80px',height:'80px',backgroundColor:'#444',borderRadius:'8px',border:'1px solid #007bff'};const buttonsWrapperStyle={display:'flex',flexDirection:'column',alignItems:'center',gap:'4px',marginBottom:'4px'};const transposeButtonSquareStyle={width:'32px',height:'32px',backgroundColor:'#007bff',color:'#fff',border:'none',borderRadius:'6px',cursor:'pointer',fontWeight:'bold',fontSize:'1.1rem',transition:'background-color 0.2s ease'};const resetLinkStyle={backgroundColor:'transparent',border:'none',color:'#66b2ff',fontSize:'0.75rem',cursor:'pointer',textDecoration:'underline'};const likeButtonStyle={padding:'0.5rem 1rem',fontSize:'1rem',border:'none',borderRadius:'6px',color:'#fff',cursor:'pointer'};export default SongDetails;","map":{"version":3,"names":["React","useEffect","useState","useContext","songsService","AuthContext","jsx","_jsx","jsxs","_jsxs","CHROMATIC_SHARP","CHROMATIC_FLAT","SongDetails","_ref","songId","user","song","setSong","isFavorite","setIsFavorite","transposeStep","setTransposeStep","displayedLyrics","setDisplayedLyrics","fetchSongDetails","data","getSong","lyricsWithChords","favorites","getFavorites","some","fav","id","error","console","toggleFavorite","removeFavorite","addFavorite","transposeChord","chord","step","match","root","accidental","suffix","useFlats","noteName","chromatic","includes","idx","findIndex","n","newIndex","transposeLyrics","fullText","split","map","line","tokens","tok","test","join","handleTransposeUp","newStep","handleTransposeDown","handleReset","style","detailsPlaceholderStyle","children","detailsContentWrapper","detailsContentStyle","headerStyle","titleStyle","title","onClick","likeButtonStyle","backgroundColor","authorStyle","author","mainContainerStyle","lyricsStyle","transposePanelStyle","buttonsWrapperStyle","transposeButtonSquareStyle","resetLinkStyle","display","justifyContent","width","maxWidth","padding","borderRadius","boxShadow","fontSize","lineHeight","color","alignItems","margin","fontWeight","marginTop","marginBottom","flexGrow","whiteSpace","fontFamily","paddingRight","overflowX","flexDirection","height","border","gap","cursor","transition","textDecoration"],"sources":["E:/Project/front/chord-site/src/components/SongDetails.jsx"],"sourcesContent":["// src/components/SongDetails.jsx\r\nimport React, { useEffect, useState, useContext } from 'react';\r\nimport songsService from '../services/songsService';\r\nimport { AuthContext } from '../context/AuthContext';\r\n\r\nconst CHROMATIC_SHARP = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#', 'A', 'A#', 'B'];\r\nconst CHROMATIC_FLAT = ['C', 'Db', 'D', 'Eb', 'E', 'F', 'Gb', 'G', 'Ab', 'A', 'Bb', 'B'];\r\n\r\nconst SongDetails = ({ songId }) => {\r\n  const { user } = useContext(AuthContext);\r\n  const [song, setSong] = useState(null);\r\n  const [isFavorite, setIsFavorite] = useState(false);\r\n  const [transposeStep, setTransposeStep] = useState(0);\r\n  const [displayedLyrics, setDisplayedLyrics] = useState('');\r\n\r\n  useEffect(() => {\r\n    const fetchSongDetails = async () => {\r\n      if (!songId) {\r\n        setSong(null);\r\n        setDisplayedLyrics('');\r\n        setTransposeStep(0);\r\n        return;\r\n      }\r\n      try {\r\n        const data = await songsService.getSong(songId);\r\n        setSong(data);\r\n        setDisplayedLyrics(data.lyricsWithChords);\r\n        setTransposeStep(0);\r\n\r\n        if (user) {\r\n          const favorites = await songsService.getFavorites();\r\n          setIsFavorite(favorites.some(fav => fav.id === songId));\r\n        }\r\n      } catch (error) {\r\n        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø–µ—Å–Ω–∏ –∏–ª–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ\", error);\r\n      }\r\n    };\r\n\r\n    fetchSongDetails();\r\n  }, [songId, user]);\r\n\r\n  const toggleFavorite = async () => {\r\n    if (!user) return;\r\n    try {\r\n      if (isFavorite) {\r\n        await songsService.removeFavorite(songId);\r\n        setIsFavorite(false);\r\n      } else {\r\n        await songsService.addFavorite(songId);\r\n        setIsFavorite(true);\r\n      }\r\n    } catch (error) {\r\n      console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ\", error);\r\n    }\r\n  };\r\n\r\n  const transposeChord = (chord, step) => {\r\n    if (!chord || step === 0) return chord;\r\n    const match = chord.match(/^([A-G])([#b]?)(.*)$/);\r\n    if (!match) return chord;\r\n    let [ , root, accidental, suffix ] = match;\r\n    let useFlats = false;\r\n\r\n    let noteName = root;\r\n    if (accidental === '#') noteName += '#';\r\n    else if (accidental === 'b') {\r\n      noteName += 'b';\r\n      useFlats = true;\r\n    }\r\n\r\n    let chromatic = useFlats ? CHROMATIC_FLAT : CHROMATIC_SHARP;\r\n    if (!chromatic.includes(noteName)) {\r\n      chromatic = CHROMATIC_SHARP.includes(noteName) ? CHROMATIC_SHARP : CHROMATIC_FLAT;\r\n    }\r\n\r\n    const idx = chromatic.findIndex(n => n === noteName);\r\n    if (idx < 0) return chord;\r\n\r\n    let newIndex = (idx + step) % 12;\r\n    if (newIndex < 0) newIndex += 12;\r\n    return chromatic[newIndex] + suffix;\r\n  };\r\n\r\n  const transposeLyrics = (fullText, step) => {\r\n    return fullText\r\n      .split('\\n')\r\n      .map(line => {\r\n        const tokens = line.split(/(\\s+)/);\r\n        return tokens\r\n          .map(tok => (/^\\s*$/.test(tok) ? tok : transposeChord(tok, step)))\r\n          .join('');\r\n      })\r\n      .join('\\n');\r\n  };\r\n\r\n  const handleTransposeUp = () => {\r\n    if (!song) return;\r\n    const newStep = (transposeStep + 1) % 12;\r\n    setTransposeStep(newStep);\r\n    setDisplayedLyrics(transposeLyrics(song.lyricsWithChords, newStep));\r\n  };\r\n\r\n  const handleTransposeDown = () => {\r\n    if (!song) return;\r\n    const newStep = (transposeStep + 11) % 12;\r\n    setTransposeStep(newStep);\r\n    setDisplayedLyrics(transposeLyrics(song.lyricsWithChords, newStep));\r\n  };\r\n\r\n  const handleReset = () => {\r\n    if (!song) return;\r\n    setTransposeStep(0);\r\n    setDisplayedLyrics(song.lyricsWithChords);\r\n  };\r\n\r\n  if (!song) {\r\n    return (\r\n      <div style={detailsPlaceholderStyle}>\r\n        <p>–í—ã–±–µ—Ä–∏—Ç–µ –ø–µ—Å–Ω—é, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å —Ç–µ–∫—Å—Ç —Å –∞–∫–∫–æ—Ä–¥–∞–º–∏</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div style={detailsContentWrapper}>\r\n      <div style={detailsContentStyle}>\r\n        <div style={headerStyle}>\r\n          <h2 style={titleStyle}>{song.title}</h2>\r\n          {user && (\r\n            <button\r\n              onClick={toggleFavorite}\r\n              style={{\r\n                ...likeButtonStyle,\r\n                backgroundColor: isFavorite ? '#d9534f' : '#28a745',\r\n              }}\r\n            >\r\n              {isFavorite ? '–£–±—Ä–∞—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ' : '–í –∏–∑–±—Ä–∞–Ω–Ω–æ–µ'}\r\n            </button>\r\n          )}\r\n        </div>\r\n\r\n        <h4 style={authorStyle}>–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å: {song.author}</h4>\r\n\r\n        <div style={mainContainerStyle}>\r\n          <pre style={lyricsStyle}>{displayedLyrics}</pre>\r\n\r\n          <div style={transposePanelStyle}>\r\n            <div style={buttonsWrapperStyle}>\r\n              <button onClick={handleTransposeDown} style={transposeButtonSquareStyle}>‚àí</button>\r\n              <button onClick={handleTransposeUp} style={transposeButtonSquareStyle}>+</button>\r\n            </div>\r\n            <button onClick={handleReset} style={resetLinkStyle}>–°–±—Ä–æ—Å–∏—Ç—å</button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n/** –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –≤ —Å—Ç–∏–ª–µ —Å–∞–π—Ç–∞ **/\r\n\r\nconst detailsContentWrapper = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  width: '100%',\r\n};\r\n\r\nconst detailsContentStyle = {\r\n  width: '100%',\r\n  maxWidth: '900px',\r\n  backgroundColor: '#3d4044',\r\n  padding: '1.5rem',\r\n  borderRadius: '8px',\r\n  boxShadow: '0 0 10px rgba(0,0,0,0.5)',\r\n  fontSize: '1.2rem',\r\n  lineHeight: '1.6',\r\n  color: '#fff',\r\n};\r\n\r\nconst detailsPlaceholderStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  width: '100%',\r\n  color: '#ccc',\r\n  fontSize: '1.2rem',\r\n};\r\n\r\nconst headerStyle = {\r\n  display: 'flex',\r\n  justifyContent: 'space-between',\r\n  alignItems: 'center',\r\n};\r\n\r\nconst titleStyle = {\r\n  margin: 0,\r\n  fontSize: '2rem',\r\n  fontWeight: 'bold',\r\n};\r\n\r\nconst authorStyle = {\r\n  color: '#ccc',\r\n  marginTop: '0.5rem',\r\n  marginBottom: '1rem',\r\n  fontSize: '1.3rem',\r\n};\r\n\r\nconst mainContainerStyle = {\r\n  display: 'flex',\r\n  width: '100%',\r\n};\r\n\r\nconst lyricsStyle = {\r\n  flexGrow: 1,\r\n  whiteSpace: 'pre-wrap',\r\n  fontFamily: 'monospace',\r\n  fontSize: '1.1rem',\r\n  margin: 0,\r\n  paddingRight: '1rem',\r\n  overflowX: 'auto',\r\n};\r\n\r\n/** üîµ –ù–æ–≤—ã–π —Å—Ç–∏–ª—å –¥–ª—è —Ç—Ä–∞–Ω—Å–ø–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è **/\r\nconst transposePanelStyle = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  width: '80px',\r\n  height: '80px',\r\n  backgroundColor: '#444',\r\n  borderRadius: '8px',\r\n  border: '1px solid #007bff',\r\n};\r\n\r\nconst buttonsWrapperStyle = {\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  alignItems: 'center',\r\n  gap: '4px',\r\n  marginBottom: '4px',\r\n};\r\n\r\nconst transposeButtonSquareStyle = {\r\n  width: '32px',\r\n  height: '32px',\r\n  backgroundColor: '#007bff',\r\n  color: '#fff',\r\n  border: 'none',\r\n  borderRadius: '6px',\r\n  cursor: 'pointer',\r\n  fontWeight: 'bold',\r\n  fontSize: '1.1rem',\r\n  transition: 'background-color 0.2s ease',\r\n};\r\n\r\nconst resetLinkStyle = {\r\n  backgroundColor: 'transparent',\r\n  border: 'none',\r\n  color: '#66b2ff',\r\n  fontSize: '0.75rem',\r\n  cursor: 'pointer',\r\n  textDecoration: 'underline',\r\n};\r\n\r\nconst likeButtonStyle = {\r\n  padding: '0.5rem 1rem',\r\n  fontSize: '1rem',\r\n  border: 'none',\r\n  borderRadius: '6px',\r\n  color: '#fff',\r\n  cursor: 'pointer',\r\n};\r\n\r\nexport default SongDetails;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}